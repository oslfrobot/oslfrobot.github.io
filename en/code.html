<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="stylesheet" type="text/css" href="../style/style.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css">
	<link rel="icon" href="../img/icon/icon.png">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Code | One sensor line follower</title>
</head>

<body style="margin: 0% !important;">
	<pre style="margin: 0em !important">
<code><font color="#98c379">#include</font> <font color="#aaaaaa">&lt;</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#ffffff">h</font><font color="#aaaaaa">&gt;</font></code>
<code><font color="#98c379">#include</font> <font color="#aaaaaa">&lt;</font><b><font color="#e06c75">Servo</font></b><font color="#aaaaaa">.</font><font color="#ffffff">h</font><font color="#aaaaaa">&gt;</font></code>
<code><b><font color="#e06c75">Servo</font></b> <font color="#ffffff">s1</font><font color="#ffffff">;</font></code>
<code><b><font color="#e06c75">Servo</font></b> <font color="#ffffff">s2</font><font color="#ffffff">;</font></code>
<code></code>
<code><font color="#98c379">#define</font> <font color="#ffffff">sensor</font> <font color="#ffffff">A0</font></code>
<code><font color="#98c379">#define</font> <font color="#ffffff">IR</font> <font color="#e5c07b">3</font></code>
<code></code>
<code><font color="#61afef">int</font> <font color="#ffffff">x</font> <font color="#aaaaaa">=</font> <font color="#e5c07b">100</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47;count of measurements</font></code>
<code><font color="#61afef">String</font> <font color="#ffffff">color</font><font color="#ffffff">;</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#c678dd">setup</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">attach</font><font color="#aaaaaa">(</font><font color="#e5c07b">9</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">attach</font><font color="#aaaaaa">(</font><font color="#e5c07b">10</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">pinMode</font><font color="#aaaaaa">(</font><font color="#ffffff">sensor</font><font color="#aaaaaa">,</font> <font color="#61afef">INPUT</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">pinMode</font><font color="#aaaaaa">(</font><font color="#ffffff">IR</font><font color="#aaaaaa">,</font> <font color="#61afef">INPUT</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">200</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#61afef">digitalRead</font><font color="#aaaaaa">(</font><font color="#e5c07b">4</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">==</font> <font color="#61afef">HIGH</font><font color="#aaaaaa">)</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">calibration</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#c678dd">loop</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#61afef">map</font><font color="#aaaaaa">(</font><font color="#61afef">analogRead</font><font color="#aaaaaa">(</font><font color="#ffffff">sensor</font><font color="#aaaaaa">)</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">1023</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">255</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">&gt;</font> <font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">2</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">+</font> <font color="#e5c07b">20</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">color</font> <font color="#aaaaaa">=</font> <font color="#61afef">&#34;black&#34;</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code></code>
<code> &nbsp;<font color="#c678dd">else</font> <font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#61afef">map</font><font color="#aaaaaa">(</font><font color="#61afef">analogRead</font><font color="#aaaaaa">(</font><font color="#ffffff">sensor</font><font color="#aaaaaa">)</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">1023</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">255</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">&lt;</font> <font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">2</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">+</font> <font color="#e5c07b">20</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">color</font> <font color="#aaaaaa">=</font> <font color="#61afef">&#34;white&#34;</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code></code>
<code> &nbsp;<font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#ffffff">color</font> <font color="#aaaaaa">==</font> <font color="#61afef">&#34;black&#34;</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">right</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code></code>
<code> &nbsp;<font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#ffffff">color</font> <font color="#aaaaaa">==</font> <font color="#61afef">&#34;white&#34;</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">left</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code></code>
<code> &nbsp;<font color="#c678dd">if</font> <font color="#aaaaaa">(</font><font color="#61afef">digitalRead</font><font color="#aaaaaa">(</font><font color="#ffffff">IR</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">==</font> <font color="#61afef">LOW</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">getAround</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">forward</font> <font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; forward</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">180</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; forward</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">right</font> <font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">90</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; forward</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">180</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; stop</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">left</font> <font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; stop</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">90</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; forward</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">backward</font> <font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">180</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; backward</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; backward</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">stop</font> <font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">s1</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">90</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; stop</font></code>
<code> &nbsp;<font color="#ffffff">s2</font><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">90</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47; stop</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">calibration</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#61afef">int</font> <font color="#ffffff">blackMeasured</font> <font color="#aaaaaa">=</font> <font color="#e5c07b">0</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">int</font> <font color="#ffffff">whiteMeasured</font> <font color="#aaaaaa">=</font> <font color="#e5c07b">0</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#c678dd">for</font> <font color="#aaaaaa">(</font><font color="#61afef">int</font> <font color="#ffffff">k</font> <font color="#aaaaaa">=</font> <font color="#e5c07b">0</font><font color="#ffffff">;</font> <font color="#ffffff">k</font> <font color="#aaaaaa">&lt;</font> <font color="#ffffff">x</font><font color="#ffffff">;</font> <font color="#ffffff">k</font><font color="#aaaaaa">++</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">blackMeasured</font> <font color="#aaaaaa">+=</font> <font color="#61afef">analogRead</font><font color="#aaaaaa">(</font><font color="#ffffff">sensor</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">10</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code> &nbsp;<b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#61afef">map</font><font color="#aaaaaa">(</font><font color="#aaaaaa">(</font><font color="#ffffff">blackMeasured</font> <font color="#aaaaaa">&#47;</font> <font color="#ffffff">x</font><font color="#aaaaaa">)</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">1023</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">255</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47;black</font></code>
<code> &nbsp;<font color="#ffffff">right</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">500</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">stop</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#c678dd">for</font> <font color="#aaaaaa">(</font><font color="#61afef">int</font> <font color="#ffffff">j</font> <font color="#aaaaaa">=</font> <font color="#e5c07b">0</font><font color="#ffffff">;</font> <font color="#ffffff">j</font> <font color="#aaaaaa">&lt;</font> <font color="#ffffff">x</font><font color="#ffffff">;</font> <font color="#ffffff">j</font><font color="#aaaaaa">++</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#ffffff">whiteMeasured</font> <font color="#aaaaaa">+=</font> <font color="#61afef">analogRead</font><font color="#aaaaaa">(</font><font color="#ffffff">sensor</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;&nbsp;&nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">10</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#aaaaaa">}</font></code>
<code> &nbsp;<b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">1</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">1</font><font color="#aaaaaa">,</font> <font color="#61afef">map</font><font color="#aaaaaa">(</font><font color="#aaaaaa">(</font><font color="#ffffff">whiteMeasured</font> <font color="#aaaaaa">&#47;</font> <font color="#ffffff">x</font><font color="#aaaaaa">)</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">1023</font><font color="#aaaaaa">,</font> <font color="#e5c07b">0</font><font color="#aaaaaa">,</font> <font color="#e5c07b">255</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font> <font color="#aaaaaa">&#47;&#47;white</font></code>
<code> &nbsp;<b><font color="#e06c75">Serial</font></b><font color="#aaaaaa">.</font><font color="#61afef">println</font><font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">1</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<b><font color="#e06c75">Serial</font></b><font color="#aaaaaa">.</font><font color="#61afef">println</font><font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code></code>
<code> &nbsp;<b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">write</font><font color="#aaaaaa">(</font><font color="#e5c07b">2</font><font color="#aaaaaa">,</font> <font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">1</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">+</font> <b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">0</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">&#47;</font> <font color="#e5c07b">2</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<b><font color="#e06c75">Serial</font></b><font color="#aaaaaa">.</font><font color="#61afef">println</font><font color="#aaaaaa">(</font><b><font color="#e06c75">EEPROM</font></b><font color="#aaaaaa">.</font><font color="#61afef">read</font><font color="#aaaaaa">(</font><font color="#e5c07b">2</font><font color="#aaaaaa">)</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">1000</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code><font color="#aaaaaa">}</font></code>
<code></code>
<code><font color="#61afef">void</font> <font color="#ffffff">getAround</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font> <font color="#aaaaaa">{</font></code>
<code> &nbsp;<font color="#ffffff">backward</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">100</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">right</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">500</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">forward</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">1000</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">left</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">1000</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#ffffff">forward</font><font color="#aaaaaa">(</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code> &nbsp;<font color="#61afef">delay</font><font color="#aaaaaa">(</font><font color="#e5c07b">800</font><font color="#aaaaaa">)</font><font color="#ffffff">;</font></code>
<code><font color="#aaaaaa">}</font></code>
</pre>
</body>